# Ollama Reasoning
## Расширение Способностей к Рассуждению Любой LLM

### Цель Проекта:

**Превратить "не-рассуждающие" (non-reasoning) языковые модели, такие как `gemma3:4b` (и другие компактные LLM), в системы, способные к глубокому, многошаговому логическому рассуждению, самокоррекции и планированию, достигающие или превосходящие уровень специализированных "reasoning" моделей.**

Проект стремится дать базовым LLM, которые сами по себе могут застревать в логических петлях, делать неверные выводы или не способны к комплексному планированию, архитектуру, позволяющую им решать сложные задачи, требующие последовательного мышления и отслеживания состояний.

### Проблема, которую проект решает:

Несмотря на впечатляющие способности к генерации текста, многие компактные языковые модели (LLM), обученные на больших массивах данных, зачастую испытывают трудности с:
*   **Многошаговым планированием:** Неспособность выстроить и выполнить сложную последовательность действий для достижения цели (например, задачи с переливанием, где `gemma3:4b` зацикливается).
*   **Отслеживанием состояний:** Потеря контекста или текущего состояния в процессе выполнения сложной задачи.
*   **Последовательным логическим выводом:** Неспособность корректно интегрировать несколько условий и сделать точный вывод (как в пространственных головоломках).
*   **Самокоррекцией:** Неспособность обнаружить свои ошибки или неэффективные пути рассуждения и скорректировать их.
*   **Избеганием "галлюцинаций рассуждения":** Генерация логически несогласованных или невозможных шагов.

### Архитектура

В проекте используется подход **многоэтапной архитектуры рассуждений, в которой сочетаются планирование и доработка через самоанализ.** Она построена на **двух парах конкурирующих агентов, взаимодействующих на уровне задачи и над ней (мета-уровень)**.

В основе этой архитектуры лежат взаимодействия нескольких специализированных "интеллектуальных агентов", каждый из которых выполняет свою роль. Все эти агенты используют одну и ту же базовую LLM (например, `gemma3:4b`) для выполнения своих функций.

Эти агенты организованы в две основные **состязательные пары**, работающие на разных уровнях абстракции:

1.  **Состязательная пара "Планировщик-Рассуждающий" (Planner-Reasoner - P-R):**
    Это **композитная пара агентов**, отвечающая за **стратегическое мышление, декомпозицию задачи, генерацию планов и рефлексию на мета-уровне.**
    *   **Планировщик (Planner):** **Задача:** Генерировать пошаговые планы для решения общей задачи. Он декомпозирует проблему на управляемые подзадачи и предлагает последовательность действий.
    *   **Рассуждающий/Рефлектор (Reasoner/Reflector):** **Задача:** Выступать в роли *критика* Планировщика. Он активно анализирует предложенный план на предмет общей логической согласованности, полноты, потенциальных тупиков, зацикливаний и оптимальности *до его выполнения*. Также он получает обратную связь (вызовы) от Состязательной пары "Рабочий-Наблюдатель" и, основываясь на ней, анализирует неудачу, предлагает модификации стратегии и инициирует генерацию нового или скорректированного плана у Планировщика.
    *   **Внутренняя Конкуренция P-R:** Планировщик предлагает стратегию/план. Рассуждающий/Рефлектор *конкурирует* с ним, пытаясь найти изъяны и заставить Планировщика улучшить или переделать план, пока не будет достигнута внутренняя "оптимальность" или "уверенность" в плане.

2.  **Состязательная пара "Рабочий-Наблюдатель" (Worker-Supervisor - W-S):**
    Это **композитная пара агентов**, отвечающая за **выполнение конкретных шагов плана и их немедленную, критическую проверку.**
    *   **Рабочий (Worker):** **Задача:** Получить один конкретный шаг плана от Состязательной пары "Планировщик-Рассуждающий" и попытаться его выполнить, используя базовую LLM для генерации требуемого вывода или действия.
    *   **Наблюдатель (Supervisor):** **Задача:** Выступать в роли *критика* Рабочего. Он немедленно и активно проверяет результат выполнения текущего шага на предмет его корректности, логической согласованности с текущим состоянием задачи и соответствия цели шага. Он также выявляет признаки зацикливания или невозможности продвижения.
    *   **Внутренняя Конкуренция W-S:** Рабочий пытается выполнить шаг и предоставить результат. Наблюдатель *конкурирует* с ним, стремясь выявить любые ошибки, неточности или логические несоответствия в его выполнении, прежде чем результат будет считаться окончательным.

Основная конкуренция в системе происходит между этими двумя композитными агентами: Состязательная пара "Планировщик-Рассуждающий" предлагает план, а Состязательная пара "Рабочий-Наблюдатель" пытается его выполнить и активно ищет ошибки и несоответствия на каждом шаге. Если "Рабочий-Наблюдатель" обнаруживает проблему, он "бросает вызов" "Планировщику-Рассуждающему", инициируя пересмотр стратегии и генерацию нового плана. Этот замкнутый цикл обратной связи обеспечивает постоянное стремление к оптимальному и корректному решению.

### Что проект достигает:

Благодаря этой архитектуре, `Reasoning AI` позволяет базовым LLM:
*   **Разбивать сложные задачи:** Эффективно декомпозировать задачи на управляемые этапы.
*   **Следовать логике и отслеживать состояния:** Поддерживать последовательное понимание контекста и текущего положения в задаче.
*   **Избегать зацикливания:** Автоматически распознавать и выходить из повторяющихся, непродуктивных циклов рассуждений.
*   **Самокорректироваться:** Учиться на ошибках и адаптировать свою стратегию для успешного решения.
*   **Достигать результатов, сравнимых или превосходящих специализированные Reasoning LLM**, при использовании менее мощных или более компактных базовых моделей.